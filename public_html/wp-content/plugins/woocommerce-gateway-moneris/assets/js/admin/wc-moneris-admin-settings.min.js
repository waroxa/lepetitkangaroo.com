jQuery(document).ready(function(r){function d(){var t=!1;return r("#woocommerce_moneris_configured_currencies option").each(function(){var e=r(this).val().toLowerCase();1<=r(".".concat(e,"-field .js-remove-connection-settings")).length?r(this).hide():t=!0}),t}function t(e){var t,c,n,i=r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_environment")).val();t=e.data("currency"),c=e.val(),n=i,(e=r(".integration-field.".concat(t,"-field")).not(".hidden")).closest("tr").hide(),e.filter(".".concat(c,"-field.").concat(n,"-field")).closest("tr").show(),r(".".concat(t,"-field.hosted-tokenization-field.").concat(n,"-field")).each(function(){var e=r(this),t=e.data(c+"-"+n+"-merchant-center-url");t&&e.closest("tr").find(".description a").attr("href",t)}),e=r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_dynamic_descriptor")).closest("td").find(".description"),r('.js-integration-country-field option[value="us"]:selected:visible').length?e.show():e.hide()}function e(e){e=e.attr("class").match(/currency-field (\w{3})-field/);e&&r(".currency-field.".concat(e[1],"-field")).data("currency",e[1]).find(".js-remove-connection-settings").data("currency",e[1])}r(".currency-field").closest("tr").find(".woocommerce-help-tip").each(function(){r(this).attr("data-original-tip",r(this).attr("data-tip"))}),r(".currency-field.hidden").closest("tr").hide(),r(".wc-settings-sub-title.currency-field.xxx-field + p").hide(),r(".js-connection-settings-title").each(function(){r(this).append('<a href="#" title="'.concat(wc_moneris_admin.remove_connection_settings_label,'" class="js-remove-connection-settings" style="text-decoration: none"><span class="dashicons dashicons-trash"></span></a>')),e(r(this))}),r(".js-integration-country-field").each(function(){e(r(this))}),d()||r("#wc-settings-additional-connection-settings").hide(),r("#wc-moneris-migrate-button").on("click",function(e){window.confirm("Have you added your Checkout ID in the gateway settings? Transactions will stop if you proceed without it.\nPlease click OK to proceed or Cancel to go back.")||e.preventDefault()}),setTimeout(function(){r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_configured_currencies")).on("change",function(){r("#js-add-connection-settings").text(wc_moneris_admin.add_connection_settings_label.replace("%s",r(this).val()))}),r("#js-add-connection-settings").on("click",function(e){var t,c,n,i,o,a;e.preventDefault(),e=r(this).closest("div").prev("table"),o=r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_configured_currencies")),a=o.val().toLowerCase(),1<=r(".currency-field."+a+"-field").length||(t=r(".wc-settings-sub-title.currency-field.xxx-field").clone(),c=r(".wc-settings-sub-title.currency-field.xxx-field + p").clone(),n=r(".currency-field.xxx-field").closest("tr").clone(),t.attr("id",t.attr("id").replace("xxx",a)),t.html(t.html().replace("XXX",a.toUpperCase())),c.text(c.text().replace("XXX",a.toUpperCase())),(i=n.find(".xxx-field").each(function(){var e=r(this),t=e.closest("tr").find("label[for]");t.attr("for",t.attr("for").replace("xxx",a)),e.attr("name",e.attr("name").replace("xxx",a)),e.attr("id",e.attr("id").replace("xxx",a))})).filter(".js-integration-country-field").val(wc_moneris_admin["".concat(a,"_default_integration")]),t.removeClass("hidden xxx-field").addClass(a+"-field"),i.removeClass("hidden xxx-field").addClass(a+"-field"),t.insertAfter(e).show(),c.insertAfter(t).show(),r('<table class="form-table"></table>').append(n.show()).insertAfter(c),o.closest("fieldset").append('<input type="hidden" name="'+o.attr("id")+'[]" value="'+a.toUpperCase()+'">'),n.find(".woocommerce-help-tip").each(function(e,t){return r(t).attr("data-tip",r(t).attr("data-original-tip"))}).tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}),d()||r("#wc-settings-additional-connection-settings").hide(),r("body").trigger("sv_wc_connection_settings_added",[a]))}),r("#mainform").on("click",".js-remove-connection-settings",function(e){var t,c;e.preventDefault(),e=r(this),t=e.data("currency"),(c=(c=(c=r(".wc-settings-sub-title.currency-field."+t+"-field")).add(".wc-settings-sub-title.currency-field."+t+"-field + p")).add(r(".currency-field."+t+"-field").closest("tr"))).delay(50).fadeOut(400).promise().done(function(){c.remove(),r('[name="woocommerce_'.concat(wc_moneris_admin.credit_card_gateway_id,'_configured_currencies[]"][value="')+t.toUpperCase()+'"]').val("")}),r("#wc-settings-additional-connection-settings").show()}),r("body").on("sv_wc_connection_settings_added",function(e,t){r(".currency-field."+t+"-field").data("currency",t),r(".currency-field."+t+"-field .js-remove-connection-settings").data("currency",t),r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_environment")).trigger("change")}),r("#mainform").on("change",".js-integration-country-field",function(){t(r(this))}),r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_environment")).on("change",function(){var e=r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_environment"));"test"===e.val()?0===r("#wc-moneris-sandbox-credentials-info").length?e.after('<p id="wc-moneris-sandbox-credentials-info" class="description">'+wc_moneris_admin.sandbox_credentials_description+"</p>"):r("#wc-moneris-sandbox-credentials-info").show():r("#wc-moneris-sandbox-credentials-info").hide(),r(".js-integration-country-field").each(function(){t(r(this))})}).change(),r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_enable_avs")).change(function(){r(this).is(":checked")?r(".avs-field").closest("tr").show():r(".avs-field").closest("tr").hide()}).change(),r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_enable_csc")).change(function(){r(this).is(":checked")?r(".csc-field").closest("tr").show():r(".csc-field").closest("tr").hide()}).change(),r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_enable_csc, #woocommerce_").concat(wc_moneris_admin.credit_card_gateway_id,"_tokenization")).change(function(){r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_enable_csc")).is(":checked")&&r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_tokenization")).is(":checked")?r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_require_csc")).closest("tr").show():r("#woocommerce_".concat(wc_moneris_admin.credit_card_gateway_id,"_require_csc")).closest("tr").hide()}).change()},300)});//# sourceMappingURL=wc-moneris-admin-settings.min.js.map