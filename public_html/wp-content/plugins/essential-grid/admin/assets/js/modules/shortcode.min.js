window.ESG??={},ESG.F??={},ESG.E??={},ESG.V??={},ESG.S??={},ESG.SC??={},ESG.C??={},ESG.LIB??={nav_skins:[],item_skins:{},nav_originals:{}},ESG.CM??={apiJS:null,ajaxCSS:null,navCSS:null},ESG.F.initShortcodeBuilderDOMReady=function(){"loading"===document.readyState?document.addEventListener("readystatechange",(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||ESG.F.initShortcodeBuilder()})):ESG.F.initShortcodeBuilder()},ESG.F.initShortcodeBuilder=function(){ESG.F.initShortcode(),ESG.F.initTinyMCE(),ESG.F.initVC(),ESG.F.initElementor()},ESG.F.initElementor=function(){"undefined"==typeof elementor||void 0===elementor.hooks||ESG.E.initElementor||(window.essgridOpenPopup=function(e){ESG.SC.openBlockSettings({editor:"elementor"})},ESG.DOC.on("click",'button[data-event="themepunch.esg.selectgrid"]',(function(){ESG.SC.openBlockSettings({editor:"elementor",shortcode:ESG.SC.elementor.view.container.settings.attributes.shortcode})})),ESG.DOC.on("click",'button[data-event="themepunch.esg.editgrid"]',(function(){window.open(jQuery(this).data("url"),"_blank").focus()})),elementor.hooks.addAction("panel/open_editor/widget/essgrid",(function(e,t,s){ESG.SC.elementor??={},ESG.SC.elementor.view=s,ESG.SC.elementor.model=t,ESG.SC.elementor.control=e.$el.find("#elementor-controls"),ESG.SC.elementor.control.addClass("esg-elementor-component-tab");let i=jQuery('button[data-event="themepunch.esg.editgrid"]'),o=wp.shortcode.next("ess_grid",ESG.SC.elementor.view?.container?.settings?.attributes?.shortcode);o&&void 0!==o?.shortcode?.attrs?.named?.alias?i.prop("disabled",!1).data("url","admin.php?page=essential-grid&view=grid-create&alias="+encodeURI(o.shortcode.attrs.named.alias)):i.prop("disabled",!0).data("url","")})),ESG.E.initElementor=!0)},ESG.F.initVC=function(){if("undefined"!=typeof vc&&!ESG.E.initVC){if(window.cur_vc_obj=void 0!==window.cur_vc_obj&&window.cur_vc_obj,window.VcEssentialGrid=vc.shortcode_view.extend({render:function(){jQuery("#eg-create-wp-gallery").hide(),cur_vc_obj=this;var e=this.model.get("params");return vc.add_element_block_view.$el.is(":visible")&&t(e),window.VcEssentialGrid.__super__.render.call(this)},editElement:function(){return cur_vc_obj=this,t(this.model.get("params")),!1}}),void 0!==window.InlineShortcodeView){var e=!1;jQuery(window).on("vc_build",(function(){vc.add_element_block_view.$el.find('[data-element="ess_grid"]').on("click",(function(){e=!0}))})),window.InlineShortcodeView_ess_grid=window.InlineShortcodeView.extend({render:function(){cur_vc_obj=this;var s=this.model.get("params");return e&&t(s),window.InlineShortcodeView_ess_grid.__super__.render.call(this),this},update:function(){return e=!1,window.InlineShortcodeView_ess_grid.__super__.update.call(this),this},edit:function(e){return cur_vc_obj=this,t(this.model.get("params")),!1}})}ESG.E.initVC=!0}function t(e){if(!1===cur_vc_obj||!0!==cur_vc_obj.model.get("cloned")){jQuery(".wpb-element-edit-modal").hide(),jQuery("#vc_properties-panel").hide();var t="[ess_grid ";void 0!==e.alias&&e.alias.length>0&&(t+="alias='"+e.alias+"' "),void 0!==e.special&&e.special.length>0&&(t+="special='"+e.special.replace(/\'/g,'"')+"'' "),void 0!==e.settings&&e.settings.length>0&&(t+="settings='"+e.settings.replace(/\'/g,'"')+"' "),void 0!==e.layers&&e.layers.length>0&&(t+="layers='"+e.layers.replace(/\'/g,'"')+"' "),t+="][/ess_grid]",ESG.SC.openBlockSettings({editor:"vc",shortcode:t})}else cur_vc_obj.model.save("cloned",!1)}},ESG.F.initTinyMCE=function(){"undefined"==typeof tinymce||ESG.E.initTinyMCE||(tinymce.PluginManager.add("essgrid_sc_button",(function(e,t){e.addButton("essgrid_sc_button",{title:ESG_LANG.essential_grid_shortcode_creator,icon:"icon dashicons-screenoptions",onclick:function(){var e=void 0!==tinymce.activeEditor&&void 0!==tinymce.activeEditor.selection?tinymce.activeEditor.selection.getContent():"";ESG.SC.openBlockSettings({editor:"tinyMCE",shortcode:e})}})})),ESG.E.initTinyMCE=!0)},ESG.F.initShortcode=function(){ESG.E.initShortcode||(!function(){"use strict";ESG.WIN??=jQuery(window),ESG.DOC??=jQuery(document),ESG.SC.loadedImages=void 0===ESG.SC.loadedImages?{}:ESG.SC.loadedImages,ESG.SC.getShortcodeSettings=function(){ESG.SC.settings={source:ESG.SC.wrap[0].getElementsByClassName("esg-sc-source")[0].value,grid:ESG.SC.wrap[0].getElementsByClassName("esg-sc-pregrid")[0].value,columns:ESG.SC.wrap.find('input[name="esg-sc-columns"]')[0].value,"entry-skin":ESG.SC.wrap.find('select[name="esg-sc-entry-skin"]')[0].value,"existing-settings":ESG.SC.wrap.find('select[name="esg-sc-existing-settings"]')[0].value,"grid-animation":ESG.SC.wrap.find('select[name="esg-sc-grid-animation"]')[0].value,"grid-layout":ESG.SC.wrap.find('select[name="esg-sc-grid-layout"]')[0].value,"layout-sizing":ESG.SC.wrap.find('select[name="esg-sc-layout-sizing"]')[0].value,"max-entries":ESG.SC.wrap.find('input[name="esg-sc-max-entries"]')[0].value,relatedbased:ESG.SC.wrap.find('select[name="esg-sc-relatedbased"]')[0].value,rows:ESG.SC.wrap.find('input[name="esg-sc-rows"]')[0].value,"rows-unlimited":ESG.SC.wrap.find('input[name="esg-sc-rows-unlimited"]')[0].value,spacings:ESG.SC.wrap.find('input[name="esg-sc-spacings"]')[0].value,"use-spinner":ESG.SC.wrap.find('select[name="esg-sc-use-spinner"]')[0].value},ESG.SC.layers={},ESG.SC.cItems.find(".esg-custom-shortcode-item").each((function(e){var t=jQuery(this).data("settings");if(void 0!==t)for(var s in t)t.hasOwnProperty(s)&&(ESG.SC.layers[s]=void 0===ESG.SC.layers[s]?{}:ESG.SC.layers[s],ESG.SC.layers[s][e<10?"0"+e:""+e]=t[s])}))},ESG.SC.buildShortCode=function(e){var t,s={},i="",o="";if(ESG.SC.getShortcodeSettings(),"pre"===ESG.SC.settings.source&&"-1"==ESG.SC.settings.grid)AdminEssentials.showErrorMessage(ESG_LANG.no_pregrid_selected);else{var a=jQuery(".esg-sc-pregrid option:selected")[0].innerHTML;if("pre"===ESG.SC.settings.source)i=ESG.SC.settings.grid,ESG.SC.content='[ess_grid alias="'+ESG.SC.settings.grid+'"][/ess_grid]';else{for(var n in ESG.SC.content="[ess_grid ",void 0!==ESG.SC.settings["existing-settings"]&&"-1"!==ESG.SC.settings["existing-settings"]&&(i=ESG.SC.settings["existing-settings"],ESG.SC.content+='alias="'+ESG.SC.settings["existing-settings"]+'" '),ESG.SC.settings)"grid"!=n&&"existing-settings"!=n&&"source"!=n&&("-1"!==ESG.SC.settings["existing-settings"]&&"max-entries"!==n||"relatedbased"==n&&"related"!==ESG.SC.settings.source||"custom"===ESG.SC.settings.source&&"max-entries"==n||(s[n]=ESG.SC.settings[n]));"popular"!==ESG.SC.settings.source&&"recent"!==ESG.SC.settings.source&&"related"!==ESG.SC.settings.source||(o=ESG.SC.settings.source,ESG.SC.content+='special="'+ESG.SC.settings.source+'" '),a=ESG.SC.settings.source,s=JSON.stringify(s).replace(/\[/g,"({").replace(/\]/g,"})").replace(/\'/g,""),t=JSON.stringify(ESG.SC.layers).replace(/\[/g,"({").replace(/\]/g,"})").replace(/\'/g,""),ESG.SC.content+=" settings='"+s+"'","custom"===ESG.SC.settings.source&&(ESG.SC.content+=" layers='"+t+"'"),ESG.SC.content+="][/ess_grid]"}switch(e.editor){case"tinyMCE":tinyMCE.activeEditor.selection.setContent(ESG.SC.content),ESG.SC.escb.dialog("close");break;case"gutenberg":var c={gridTitle:a,text:ESG.SC.content};essgrid_react.setState(c),essgrid_react.props.setAttributes(c),essgrid_react.forceUpdate(),ESG.SC.escb.dialog("close"),essgrid_react.forceUpdate();break;case"vc":var r={};"-1"!==i&&void 0!==i&&""!==i&&(r.alias=i),"-1"!==o&&void 0!==o&&""!==o&&(r.special=o),"-1"!==s&&void 0!==s&&s.length>0&&(r.settings=s.replace(/\"/g,"'")),"-1"!==t&&void 0!==t&&t.length>0&&(r.layers=t.replace(/\"/g,"'")),cur_vc_obj.model.save("params",r),ESG.SC.escb.dialog("close");break;case"elementor":ESG.SC.elementor.model.setSetting("essgrid_title",a),ESG.SC.elementor.model.setSetting("shortcode",ESG.SC.content),ESG.SC.escb.dialog("close"),ESG.SC.elementor.control.find('input[data-setting="shortcode"]').trigger("input")}}},ESG.SC.addCustomItem=function(e,t){var s='<div class="esg-custom-shortcode-item esg-custom-shortcode-item-bg" data-type="'+e+'">';s+='<div class="esg-csi-toolbar">',s+='<div class="esg-csi-delete esg-red eg-tooltip-wrap tooltipstered"><i class="eg-icon-trash"></i></div>',s+='<div class="esg-csi-edit esg-green eg-tooltip-wrap tooltipstered"><i class="eg-icon-cog"></i></div>',s+='<div class="esg-csi-move esg-green eg-tooltip-wrap tooltipstered"><i class="eg-icon-menu"></i></div>',s+="</div>",s+='<i class="eg-esg-single eg-icon-'+("youtube"==e?"youtube-squared":"vimeo"==e?"vimeo-squared":"image"==e?"picture-1":"html5"==e?"video":"soundcloud")+'"></i>',s+="</div>",s=jQuery(s),ESG.SC.cItems.append(s),void 0!==t?(s.data("settings",t),"image"===e?ESG.SC.updateImageUrl(t["custom-image"],s):"soundcloud"!==e&&ESG.SC.updateImageUrl(t["custom-poster"],s)):ESG.SC.openCustomSubDialog({type:e,target:s})},ESG.SC.updateImageUrl=function(e,t){void 0===ESG.SC.loadedImages[e]&&void 0!==e&&e.length>0?AdminEssentials.ajaxRequest("get_image_by_id",{img_id:e},"",(function(s,i){s.success,1==s.success&&(ESG.SC.loadedImages[e]=s.url,"deep"===t?jQuery("#esg-custom-image-img").attr("src",ESG.SC.loadedImages[e]).show():t.css({backgroundImage:"url("+ESG.SC.loadedImages[e]+")"}))})):"deep"===t?jQuery("#esg-custom-image-img").attr("src",ESG.SC.loadedImages[e]).show():t.css({backgroundImage:"url("+ESG.SC.loadedImages[e]+")"})},ESG.SC.resetCustomItems=function(){ESG.SC.cItems[0].innerHTML='<div class="esg-custom-shortcode-item esg-csi-spec"><i class="material-icons esg-add-shortcode-items">add</i><div class="esg-custom-shortcode-functions"><i  data-type="youtube" class="add-esg-csi-item eg-icon-youtube-squared"></i><i  data-type="vimeo" class="add-esg-csi-item eg-icon-vimeo-squared"></i><i  data-type="html5" class="add-esg-csi-item eg-icon-video"></i><i  data-type="image" class="add-esg-csi-item eg-icon-picture-1"></i><i  data-type="image" class="add-esg-csi-items eg-icon-picture"></i><i  data-type="soundcloud" class="add-esg-csi-item eg-icon-soundcloud"></i></div></div>'},ESG.SC.getSelectionText=function(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},ESG.SC.openBlockSettings=function(e){ESG.SC.wrap=jQuery("#esg-shortcode-settings"),(e=void 0===e?{}:e).editor=void 0===e.editor?"tinyMCE":e.editor,ESG.SC.escb=void 0===ESG.SC.escb?jQuery("#eesgShortCodeBuilder"):ESG.SC.escb,ESG.SC.cItems=void 0===ESG.SC.cItems?jQuery("#esg_shortcode_custom_items"):ESG.SC.cItems,ESG.SC.readShortcode=void 0===ESG.SC.readShortcode?jQuery("#esg_read_old_shortcode_dialog"):ESG.SC.readShortcode,ESG.SC.resetCustomItems(),ESG.SC.cItems.sortable({items:".esg-custom-shortcode-item",revert:!1,cancel:".esg-csi-spec",handle:".esg-csi-move"}),void 0===ESG.SC.itemsListener&&(ESG.SC.imgUploader=wp.media.frames.file_frame=wp.media({title:ESG_LANG.choose_image,button:{text:ESG_LANG.choose_image},multiple:!1}),ESG.SC.imgesUploader=wp.media({title:ESG_LANG.choose_image,button:{text:ESG_LANG.choose_image},multiple:!0}),ESG.SC.imgUploader.on("select",(function(){var e=ESG.SC.imgUploader.state().get("selection").first().toJSON();jQuery("#esg-custom-image-img").attr("src",e.url).show(),jQuery("#esg-csi-image").val(e.id)})),ESG.SC.imgesUploader.on("select",(function(){ESG.SC.imgesUploader.state().get("selection");ESG.SC.imgesUploader.state().get("selection").each((function(e){var t=e.toJSON();ESG.SC.loadedImages[t.id]=t.url,void 0!==t&&void 0!==t.id&&parseInt(t.id)>0&&ESG.SC.addCustomItem("image",{"custom-image":""+t.id,"custom-type":"image","use-skin":"-1"})}))})),ESG.DOC.on("click",".add-esg-csi-item",(function(){ESG.SC.addCustomItem(this.dataset.type)})),ESG.DOC.on("click",".add-esg-csi-items",(function(){ESG.SC.imgesUploader.open()})),ESG.DOC.on("click",".esg-csi-delete",(function(){jQuery(this).closest(".esg-custom-shortcode-item").remove()})),ESG.DOC.on("click",".esg-csi-edit",(function(){var e=jQuery(this).closest(".esg-custom-shortcode-item");ESG.SC.openCustomSubDialog({type:e[0].dataset.type,target:e})})),ESG.DOC.on("click",".ess-grid-select-image",(function(){ESG.SC.imgUploader.open()})),ESG.SC.itemsListener=!0),ESG.SC.escb.dialog({modal:!0,draggable:!0,resizable:!1,width:700,height:600,title:ESG_LANG.quickbuilder,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog eesgShortCodeBuilder esg_dialog_nopadding",buttons:[{text:ESG_LANG.insert_shortcode,id:"esg_insert_shortcode",class:"ui-button ui-corner-all ui-widget",click:function(){ESG.SC.buildShortCode(e)}},{text:ESG_LANG.import_shortcode,id:"esg_import_shortcode",class:"ui-button ui-corner-all ui-widget",click:function(){ESG.SC.readShortcode.dialog({modal:!0,draggable:!0,resizable:!1,width:700,height:300,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:ESG_LANG.read_shortcode,id:"esg_read_shortcode",class:"ui-button ui-corner-all ui-widget",click:function(){ESG.SC.updateSettings(jQuery("#esg_import_shortcode_text")[0].value,!1),jQuery("#esg_read_old_shortcode_dialog").dialog("close"),ESG.SC.showHideCustomSettings()}}],create:function(){jQuery(".ui-dialog-titlebar-close",ESG.SC.readShortcode.closest(".ui-dialog")).addClass("ui-button")},open:function(){jQuery(".ui-widget-overlay").last().remove(),ESG.SC.escb.parent().hide()},close:function(){ESG.SC.escb.parent().show()}})}}],create:function(){jQuery(".ui-dialog-titlebar-close",ESG.SC.escb.closest(".ui-dialog")).addClass("ui-button")},open:function(){if("gutenberg"===e.editor)ESG.SC.updateSettings(essgrid_react.props.attributes.text,!0);else ESG.SC.updateSettings(e.shortcode,!0);ESG.SC.showHideCustomSettings()}})},ESG.SC.openCustomSubDialog=function(e){ESG.SC.subDialog=void 0===ESG.SC.subDialog?jQuery("#edit-custom-element-quick-dialog-wrap"):ESG.SC.subDialog,ESG.SC.subDialog.dialog({modal:!0,draggable:!0,resizable:!1,width:500,height:500,title:ESG_LANG.edit_custom_item,closeOnEscape:!0,dialogClass:"wp-dialog esg_dialog",buttons:[{text:"Update Item",id:"update_shortcode_item",click:function(){var t={title:jQuery("#esg-csi-title").val(),"custom-type":e.type},s=jQuery("#esg-custom-image-img").attr("src"),i=jQuery("#esg-csi-skin")[0].value,o=!1;switch("cobbles"===ESG.SC.settings["grid-layout"]&&(t["cobbles-size"]=jQuery("#esg-csi-cobbles-size").val()),void 0!==i&&-1!==i&&(t["use-skin"]=i),e.type){case"image":t["custom-image"]=jQuery("#esg-csi-image").val(),o=void 0!==s&&s.length>0;break;case"vimeo":t["custom-poster"]=jQuery("#esg-csi-image").val(),t["custom-ratio"]=jQuery("#esg-csi-ratio")[0].value,t["custom-vimeo"]=jQuery("#esg-csi-vimeo")[0].value,o=void 0!==s&&s.length>0;break;case"youtube":t["custom-poster"]=jQuery("#esg-csi-image").val(),t["custom-ratio"]=jQuery("#esg-csi-ratio")[0].value,t["custom-youtube"]=jQuery("#esg-csi-youtube")[0].value,o=void 0!==s&&s.length>0;break;case"html5":t["custom-poster"]=jQuery("#esg-csi-image").val(),t["custom-ratio"]=jQuery("#esg-csi-ratio")[0].value,t["custom-html5-mp4"]=jQuery("#esg-csi-mp4")[0].value,o=void 0!==s&&s.length>0;break;case"soundcloud":t["custom-soundcloud"]=jQuery("#esg-csi-soundcloud")[0].value}void 0!==t.title&&0!=t.title.length||delete t.title,o?e.target.css({backgroundImage:"url("+s+")"}):e.target.css({backgroundImage:""}),e.target.data("settings",t),ESG.SC.subDialog.dialog("close")}}],create:function(){},open:function(){ESG.SC.getShortcodeSettings();var t=jQuery.extend(!0,{"custom-image":"","custom-poster":"","custom-ratio":"1","custom-vimeo":"","custom-youtube":"","custom-html5-mp4":"","custom-soundcloud":"","custom-cobbles-size":"1:1","use-skin":"-1","custom-type":e.type,title:""},e.target.data("settings"));switch(jQuery("#esg-custom-image-img").attr("src","").hide(),jQuery("#esg-csi-title").val(t.title),jQuery("#esg-csi-skin")[0].value=t["use-skin"],jQuery("#esg-csi-cobbles-size")[0].value=t["custom-cobbles-size"],"image"!==e.type&&(t["custom-image"]=t["custom-poster"]),void 0!==t["custom-image"]&&t["custom-image"].length>0&&ESG.SC.updateImageUrl(t["custom-image"],"deep"),jQuery("#esg-csi-image").val(t["custom-image"]),jQuery("#esg-csi-ratio")[0].value=t["custom-ratio"],jQuery("#esg-csi-vimeo")[0].value=t["custom-vimeo"],jQuery("#esg-csi-youtube")[0].value=t["custom-youtube"],jQuery("#esg-csi-soundcloud")[0].value=t["custom-soundcloud"],jQuery("#esg-csi-mp4")[0].value=t["custom-html5-mp4"],e.type){case"image":jQuery(".esg-csi-itemtype-html5,.esg-csi-itemtype-vimeo,.esg-csi-itemtype-video,.esg-csi-itemtype-youtube,.esg-csi-itemtype-soundcloud").hide(),jQuery(".esg-csi-itemtype-image").show();break;case"vimeo":jQuery(".esg-csi-itemtype-html5,.esg-csi-itemtype-youtube,.esg-csi-itemtype-soundcloud").hide(),jQuery(".esg-csi-itemtype-vimeo,.esg-csi-itemtype-video,.esg-csi-itemtype-image").show();break;case"youtube":jQuery(".esg-csi-itemtype-html5,.esg-csi-itemtype-vimeo,.esg-csi-itemtype-soundcloud").hide(),jQuery(".esg-csi-itemtype-youtube,.esg-csi-itemtype-video,.esg-csi-itemtype-image").show();break;case"html5":jQuery(".esg-csi-itemtype-youtube,.esg-csi-itemtype-vimeo,.esg-csi-itemtype-soundcloud").hide(),jQuery(".esg-csi-itemtype-html5,.esg-csi-itemtype-video,.esg-csi-itemtype-image").show();break;case"soundcloud":jQuery(".esg-csi-itemtype-image,.esg-csi-itemtype-html5,.esg-csi-itemtype-vimeo,.esg-csi-itemtype-youtube,.esg-csi-itemtype-video").hide(),jQuery(".esg-csi-itemtype-soundcloud").show()}jQuery(".esg-csi-itemtype-cobbles")["cobbles"===ESG.SC.settings["grid-layout"]?"show":"hide"]()}})},ESG.SC.updateSettings=function(e,t){var s=wp.shortcode.next("ess_grid",e);if(void 0!==s&&(void 0!==s.shortcode.attrs.named.alias||void 0!==s.shortcode.attrs.named.settings||void 0!==s.shortcode.attrs.named.layers)||t){ESG.SC.wrap[0].getElementsByClassName("esg-sc-source")[0].value="pre",ESG.SC.wrap[0].getElementsByClassName("esg-sc-pregrid")[0].value=-1,ESG.SC.wrap.find('input[name="esg-sc-columns"]')[0].value=5,ESG.SC.wrap.find('select[name="esg-sc-entry-skin"]')[0].value="1",ESG.SC.wrap.find('select[name="esg-sc-existing-settings"]')[0].value=-1,ESG.SC.wrap.find('select[name="esg-sc-grid-animation"]')[0].value="fade",ESG.SC.wrap.find('select[name="esg-sc-grid-layout"]')[0].value="even",ESG.SC.wrap.find('select[name="esg-sc-layout-sizing"]')[0].value="boxed",ESG.SC.wrap.find('input[name="esg-sc-max-entries"]')[0].value=20,ESG.SC.wrap.find('select[name="esg-sc-relatedbased"]')[0].value="both",ESG.SC.wrap.find('input[name="esg-sc-rows"]')[0].value=3,ESG.SC.wrap.find('input[name="esg-sc-rows-unlimited"]')[0].value="off",ESG.SC.wrap.find('input[name="esg-sc-spacings"]')[0].value=0,ESG.SC.wrap.find('select[name="esg-sc-use-spinner"]')[0].value=-1,ESG.SC.resetCustomItems();var i=void 0!==s&&void 0!==s.shortcode.attrs.named.alias?s.shortcode.attrs.named.alias:-1;if(void 0!==s&&void 0!==s.shortcode.attrs.named.special?(ESG.SC.wrap[0].getElementsByClassName("esg-sc-source")[0].value=s.shortcode.attrs.named.special,ESG.SC.wrap[0].getElementsByClassName("esg-sc-existing-settings")[0].value=i):void 0!==s&&void 0===s.shortcode.attrs.named.layers&&(ESG.SC.wrap[0].getElementsByClassName("esg-sc-pregrid")[0].value=i),void 0!==s&&void 0!==s.shortcode.attrs.named.settings){var o=JSON.parse(s.shortcode.attrs.named.settings);for(var a in o)jQuery('select[name="esg-sc-'+a+'"]').length>0?jQuery('select[name="esg-sc-'+a+'"]')[0].value=o[a]:jQuery('input[name="esg-sc-'+a+'"]').length?jQuery('input[name="esg-sc-'+a+'"]')[0].value=o[a]:jQuery('textarea[name="esg-sc-'+a+'"]').length&&jQuery('textarea[name="esg-sc-'+a+'"]').val(o[a])}if(void 0!==s&&void 0!==s.shortcode.attrs.named.layers){ESG.SC.wrap[0].getElementsByClassName("esg-sc-source")[0].value="custom",ESG.SC.wrap[0].getElementsByClassName("esg-sc-existing-settings")[0].value=i;var n=JSON.parse(s.shortcode.attrs.named.layers),c={};for(var a in n)if(n.hasOwnProperty(a))for(var r in n[a])n[a].hasOwnProperty(r)&&(c[r]=void 0===c[r]?{}:c[r],c[r][a]=n[a][r]);for(r in c)c.hasOwnProperty(r)&&ESG.SC.addCustomItem(c[r]["custom-type"],c[r])}}},ESG.SC.showHideCustomSettings=function(){switch(ESG.SC.getShortcodeSettings(),ESG.SC.customFields=void 0===ESG.SC.customFields?jQuery("#esg_shortcode_custom_settings_bottom"):ESG.SC.customFields,jQuery(".esg-settings-grid-wrap").hide(),jQuery(".esg-settings-exset-wrap").hide(),jQuery(".esgsettings-max-entries").hide(),jQuery("#eg-related-post-based-details").hide(),ESG.SC.customFields.hide(),jQuery("#esg_shortcode_custom_settings_add_elements").hide(),ESG.SC.settings.source){case"custom":jQuery(".esg-settings-exset-wrap").show(),jQuery("#esg_shortcode_custom_settings_add_elements").show(),"-1"===ESG.SC.settings["existing-settings"]?(ESG.SC.customFields.show(),ESG.SC.escb.height(600)):ESG.SC.escb.height(350);break;case"popular":case"recent":jQuery(".esg-settings-exset-wrap").show(),jQuery(".esgsettings-max-entries").show(),"-1"===ESG.SC.settings["existing-settings"]?(ESG.SC.customFields.show(),ESG.SC.escb.height(545)):ESG.SC.escb.height(143);break;case"related":jQuery(".esg-settings-exset-wrap").show(),jQuery(".esgsettings-max-entries").show(),jQuery("#eg-related-post-based-details").show(),"-1"===ESG.SC.settings["existing-settings"]?(ESG.SC.customFields.show(),ESG.SC.escb.height(600)):ESG.SC.escb.height(200);break;default:jQuery(".esg-settings-grid-wrap").show(),ESG.SC.escb.height(100)}},ESG.DOC.on("change",".esg-sc-source, .esg-sc-existing-settings",(function(){ESG.SC.showHideCustomSettings()}))}(jQuery),ESG.E.initShortcode=!0)},ESG.E.waitTptFunc??=[],ESG.E.waitTptFunc.push(ESG.F.initShortcodeBuilderDOMReady),new Promise((e=>{const t=setInterval((()=>{ESG.F.waitTpt&&(clearInterval(t),e())}),19)})).then((()=>{ESG.F.waitTpt()}));